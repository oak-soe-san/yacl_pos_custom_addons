import base64from odoo import httpfrom escpos.printer import Networkimport tempfileimport osclass PosPrintIP(http.Controller):    @http.route('/mscl_pos_ip_print', type='json', auth='user', csrf=False, website=True)    def pos_print_ip(self, receipt):        # Decode the base64 encoded image data received from the client        image_data = base64.b64decode(receipt)        # Iterate over the list of printer IP addresses        # for printer_ip in ["192.168.100.201", "192.168.100.155"]:        settings = http.request.env['custom.printer'].sudo()        printer_ips = settings.get_printer_ips()        for printer_ip in printer_ips:            # Print the image to each printer            self.print_image(image_data, printer_ip)    def print_image(self, image_data, printer_ip):        # Write the image data to a temporary file        temp_dir = tempfile.mkdtemp()        # Define the file path inside the temporary directory        file_path = os.path.join(temp_dir, "temp_file.png")        with open(file_path, 'wb') as file:            file.write(image_data)        # Connect to the printer and send the image for printing        printer = Network(printer_ip)        printer.image(file_path)        printer.cut()